---
layout: post
title: ASP.NET MVC e suas ActionResult
---
<p>O framework <span class="caps">MVC</span> da Microsoft usa um determinado objeto para definir qual tipo de resultado/output a <em>action</em> executada deve retornar. São eles:</p>


	<ul>
	<li><code>ContentResult</code> &#8211; Pode ser usado para retornar textos simples.</li>
		<li><code>EmptyResult</code> &#8211; Esse serve para retornar resultados em branco, quando quiser que o output seja vazio.</li>
		<li><code>HttpUnauthorizedResult</code> &#8211; Usado quando o usuário não tem permissão para executar a action. Retorna o 401 como <em>status</em> da requisição.</li>
		<li><code>JsonResult</code> &#8211; Serializa um objeto em formato <span class="caps">JSON</span>, bom para ser usando em requisições <span class="caps">AJAX</span>.</li>
		<li><code>RedirectResult</code> &#8211; Resultado usado para redirecionamentos.</li>
		<li><code>RedirectToRouteResult</code> &#8211; Também usado para redirecionamentos, mas a <span class="caps">URL</span> está ligada a uma rota.</li>
		<li><code>ViewResultBase</code> &#8211; Classe abstrata, usada para renderizar HTMLs.
	<ul>
	<li><code>PartialViewResult</code> &#8211; Estende <code>ViewResultBase</code> para renderizar as views e seus HTMLs.</li>
	</ul>
	</li>
		<li><code>BinaryResult</code> &#8211; Classe abstrata usada para resultados binários.
	<ul>
	<li><code>BinaryStreamResult</code> &#8211; Estende <code>BinaryResult</code>, pode ser usado para escrever imagens direto no stream do resutado.</li>
	</ul></li>
	</ul>


	<p>Porém, em alguns casos, retornar um texto simples, ou um <span class="caps">JSON</span> pequeninho, é meio chato. Considere o código abaixo:</p>


	<p>{% highlight c# %}
JsonResult json = new JsonResult();
json.ContentType = &#8220;text/javascript&#8221;;
json.Data = new { success = true };
return json;
{% endhighlight %}</p>


	<p>Isso poderia ser mais simples não? Porém, a classe <code>JsonResult</code>, e nenhuma outra <code>ActionResult</code> aceita parâmetros no construtor. Por isso criei <a href="http://gist.github.com/138225">duas classes</a> que podem ser usadas como <code>ActionResult</code>, para simplificar essa tarefa. Elas devem ser usadas assim:</p>


	<p>{% highlight c# %}
return new SimpleResult(&#8220;Hello World&#8221;);
return new SimpleResult(1);
return new SimpleResult(1257.14);
return new SimpleResult(true);
{% endhighlight %}</p>


	<p>e</p>


	<p>{% highlight c# %}
return new SimpleJsonResult(new { success = true });
{% endhighlight %}</p>


	<p>Pronto, agora é hora de refatorar código. :)</p>


	<p><strong><span class="caps">UPDATE</span>:</strong> Conforme o Guilherme comentou ali embaixo, o <span class="caps">ASP</span>.NET <span class="caps">MVC</span> tem um método que já simplifica as coisas.</p>


	<p>{% highlight c# %}
return Json(&#8220;Hello World&#8221;);
return Json(1);
return Json(1257.14);
return Json(true);
{% endhighlight %}</p>


	<p>e</p>


	<p>{% highlight c# %}
return Json(new { success = true });
{% endhighlight %}</p>
